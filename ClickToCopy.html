<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Click to copy it!</title>
</head>
<body>
  <h2>Native Javasciprt Click-To-Copy<h2>
  <h3>Please allow javascript and clipboard permission from your bowser setting!<h3>
</body>
<script>
  // https://stackoverflow.com/a/33928558
  function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, '\\$&');
    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
      results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
  }
  var dataValue = getParameterByName('data');
  navigator.clipboard
    .writeText(dataValue)
    .then(() => {
      // I don't know but need setTimeout or browser will shutdown tab before copy!
      setTimeout(() => {
        window.close();
      }, 20);
    })
    .catch(() => {
    });
</script>
</html>
